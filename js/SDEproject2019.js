var vp,i,o,t,wkv,g,y,cor,bas,dak,m2,e,u,d=.005,kwhn=[],kwhz=[],v=[],s=[],x=[],to=[],ok=[],nks=[],cks=[],pos=[],cumu=0,tvt=0,ttr=0,ttv=0,tts=0,ttrv=0,alib="U heeft een te klein vermogen om SDE+ aan te vragen. Uw installatie moet minimaal 15kWp aan vermogen hebben.";function tiny(){m2=Number(document.querySelector("#vierkant").value.replace(/,/g,".")),e=Number(document.querySelector("#enp").value.replace(/,/g,".")),u=Number(document.querySelector("#verbruik").value.replace(/,/g,".")),dak=document.querySelector("input[name=radiodak]:checked").value,(vp=Math.round(.15*m2))<15?($("#myModal").toggle(),setTimeout(function(){alert(alib)},2e3)):vp<1e3?(bas=.101,corz=.069,console.log("Dit is een opstelling van een installatie KLEINER dan 1MW met een basisbedrag van €"+bas+"/kWh")):"true"==dak?(bas=.095,corz=.06,console.log("Dit is een dakopstelling van een installatie groter dan 1MW met een basisbedrag van €"+bas+"/kWh")):(bas=.93,corz=.06,console.log("Dit is een veldopstelling van een installatie groter dan 1MW met een basisbedrag van €"+bas+"/kWh")),i=Math.round(1050*vp),o=Math.round(.00454*i),t=.5*e,vlu=950,wkv=u/(vp*vlu)*.5,g=1<wkv?1:wkv<0?0:wkv,y=.01,cumu=-1*i,corn=.041}function rwz(){for(q=0;q<15;q++){kwhz.push(Math.round(g*(19e4*vp*d*Math.pow(1-d,q)))),kwhn.push(Math.round((1-g)*(19e4*vp*d*Math.pow(1-d,q)))),v.push(Math.round(kwhz[q]*e*Math.pow(1+y,q))),x.push(Math.round(kwhn[q]*t*Math.pow(1+y,q)));var a=Math.round(kwhn[q]*(bas-corn)),r=Math.round(kwhz[q]*(bas-corz));s.push(a+r),to.push(v[q]+x[q]+s[q]),ok.push(Math.round(o*Math.pow(1+y,q))),nks.push(Math.round(to[q]-ok[q])),cumu+=Math.round(nks[q]),cks.push(cumu),0<cks[q]&&pos.push(q),ttr+=x[q],ttv+=v[q],tts+=s[q],ttrv+=nks[q]}tvt=pos[0]+1}function zyn(){tvt?$("#terugverd").replaceWith('<td id="terugverd" class="talright">'+tvt+" jaar "):$("#terugverd").replaceWith('<td id="terugverd" class="talright"</strong> <span style="color: red">langer dan 15 jaar</span></td>'),$("#vrmg").replaceWith('<td class="talright">'+vp+" kWp</td>"),$("#eprd").replaceWith('<td class="talright">'+19e4*vp*d+" kWh/jaar</td>"),$("#bsbdr").replaceWith('<td class="talright">€ '+bas+"/kWh</td>"),$("#cbev").replaceWith('<td class="talright">€ '+corz+" /kWh</td>"),$("#cbnl").replaceWith('<td class="talright">€ '+corn+" /kWh</td>"),$("#bsek").replaceWith('<td class="talright">€ '+ttv+"</td>"),$("#tso").replaceWith('<td class="talright">€ '+tts+"</td>"),$("#ttlo").replaceWith('<td class="talright">€ '+ttr+"</td>"),$("#roi").replaceWith('<td id="roi" class="talright">'+Math.round((ttrv-i)/i*100)+"%</td>"),sch(),shb()}function sch(){var t={labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],datasets:[{fillColor:"rgba(172,194,132, 0.0)",strokeColor:"#3498db",pointColor:"#fff",pointStrokeColor:"#3498db",data:cks}]},e=document.getElementById("grafiek").getContext("2d");new Chart(e).Line(t)}function shb(){var t={labels:["besparing","subsidie","teruglevering"],datasets:[{fillColor:["rgba(52, 152, 219, 0.2)"],strokeColor:["#48A4D1"],data:[ttv,tts,ttr]}]},e=document.getElementById("staaf").getContext("2d");new Chart(e).Bar(t)}$("#buca").click(function(){$("#portfolio").toggle(),$("#bucashow").toggle(),$("#bucashow")[0].scrollIntoView(),tiny(),rwz(),zyn(),ga("send",{hitType:"event",eventCategory:"business_case",eventAction:"click"}),ga("send","event","bereken_knop","click","Bizcase berekend2")}),$("#excelmail").click(function(){var t=document.querySelector("#email").value,e=document.querySelector("#tel").value;5<t.length&&8<e.length&&$("#flash").replaceWith('<div class="alert alert-success" role="alert">Email verzonden!</div>')}),$("#popover1").popover({trigger:"focus"}),$(".popover-dismiss").popover({trigger:"focus"}),console.log("SDEtool.nl was developed by Corné van Straten");
